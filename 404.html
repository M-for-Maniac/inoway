<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inoway - 404</title>
    <script>
      (function () {
        const path = window.location.pathname;
        const searchParams = new URLSearchParams(window.location.search);
        const lng = searchParams.get("lng") || localStorage.getItem("language") || "en";
        // Only keep the first 'lng' parameter to avoid duplicates
        searchParams.delete("lng");
        searchParams.set("lng", lng);
        const newPath = `${path}?${searchParams.toString()}`;
        // Redirect to root with cleaned query parameters
        if (window.location.pathname !== "/404.html") {
          window.location.replace(`https://inoway.co${newPath}`);
        } else {
          // Fallback to root if stuck on 404.html
          window.location.replace(`https://inoway.co/?lng=${lng}`);
        }
      })();
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>